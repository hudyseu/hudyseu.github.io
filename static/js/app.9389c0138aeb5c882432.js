webpackJsonp([1],{"0wTw":function(e,t){},"4tm3":function(e,t){},G0Df:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("keep-alive",[this.$route.meta.keepAlive?t("router-view"):this._e()],1),this._v(" "),this.$route.meta.keepAlive?this._e():t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},a,!1,function(e){n("0wTw")},null,null).exports,o=n("/ocq"),s=n("Gu7T"),c=n.n(s),l=n("//Fk"),d=n.n(l),u=(n("rdLu"),n("qK+J")),f=n.n(u),m={name:"PhoneCell",props:{info:Object},data:function(){return{thumb:this.info.thumb}},methods:{cellClicked:function(){this.$router.push("/article/"+this.info.sid)}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"phone-cell-container",on:{click:e.cellClicked}},[n("div",{staticClass:"cell-icon",style:{background:"url("+e.thumb+") no-repeat","background-size":"100% 100%"}}),e._v(" "),n("div",{staticClass:"cell-info"},[n("div",{staticClass:"cell-title",domProps:{innerHTML:e._s(e.info.title)}}),e._v(" "),n("div",{staticClass:"cell-summary",domProps:{innerHTML:e._s(e.info.summary)}}),e._v(" "),n("div",{staticClass:"cell-date",domProps:{innerHTML:e._s(e.info.inputtime)}})])])},staticRenderFns:[]};var p=n("VU/8")(m,h,!1,function(e){n("UGfX")},null,null).exports,v=new i.a,g=n("mtWM"),_=n.n(g);_.a.defaults.withCredentials=!0;function C(e){return/^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i.test(e.url)?e.url:"http://api.turling.me/api/"+e.url}function $(e,t){e.then(function(e){e&&e.data?t.success&&t.success(e.data):t.error&&t.error(e)}).catch(function(e){t.error&&t.error(e)})}var b=function(e){$(_.a.get(C(e),{params:e.params}),e)};var y={name:"Home",data:function(){return{articleList:[],paginationInfo:{current_page:1,total_page:0,page_size:35},selectedPage:1,refreshBtn:null}},components:{InfiniteLoading:f.a,PhoneCell:p},methods:{onInfinite:function(){var e=this;this.selectedPage=this.selectedPage+1,this.getArticleList().then(function(){e.$refs.infiniteLoading.$emit("$InfiniteLoading:loaded")}).catch(function(t){e.$refs.infiniteLoading.$emit("$InfiniteLoading:loaded")})},getArticleList:function(e){var t=this,n=this.articleList[this.articleList.length-1];return new d.a(function(e,i){b({url:"timeline",params:{last_sid:t.articleList.length?n.sid:0},success:function(n){t.refreshBtn.$stopLoading(),"200"===n.status_code.toString()?(t.articleList=[].concat(c()(t.articleList),c()(n.result)),t.paginationInfo=n.result.pagination):t.$toast({text:"请求出错",duration:2e3}),e()},error:function(){t.refreshBtn.$stopLoading(),t.$toast({text:"网络错误！",duration:2e3}),i()}})})}},mounted:function(){var e=this;this.refreshBtn=this.$showRefresh(),v.$on("onRefresh",function(){document.documentElement.scrollTop=0,e.selectedPage=1,e.articleList=[],e.getArticleList()})},activated:function(){this.refreshBtn&&this.refreshBtn.$appear()},deactivated:function(){this.refreshBtn.$disappear(),document.body.onscroll=null},beforeDestroy:function(){this.refreshBtn.$remove(),v.$off("onRefresh")}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-content"},[t("div",{staticClass:"article-list"},this._l(this.articleList,function(e){return t("phone-cell",{key:e.sid,attrs:{info:e}})}),1),this._v(" "),t("infinite-loading",{ref:"infiniteLoading",attrs:{"on-infinite":this.onInfinite,spinner:"bubbles"}})],1)},staticRenderFns:[]};var L=n("VU/8")(y,w,!1,function(e){n("G0Df")},null,null).exports;function x(){for(var e=document.getElementsByTagName("embed"),t=e.length-1;t>=0;t--){if((f=(c=e[t]).src).indexOf("youku.com")>-1)if(r=f.match(/sid\/(\w+)/i)){var n="http://player.youku.com/embed/"+r[1];(l=document.createElement("iframe")).src=n,c.parentNode.replaceChild(l,c)}else{var i=h();c.parentNode.replaceChild(i,c)}else if(f.indexOf("tudou.com")>-1){if(r=f.match(/\/v\/(\S*)\/&/i)){n="http://www.tudou.com/programs/view/html5embed.action?code="+r[1];(l=document.createElement("iframe")).src=n,c.parentNode.replaceChild(l,c)}else{i=h();c.parentNode.replaceChild(i,c)}}else if(f.indexOf("qq.com")>-1){if(r=f.match(/vid=(\S*)&/i)){n="https://v.qq.com/iframe/player.html?vid="+r[1]+"&tiny=0&auto=0";(l=document.createElement("iframe")).src=n,c.parentNode.replaceChild(l,c)}else{i=h();c.parentNode.replaceChild(i,c)}}else if(f.indexOf("qiyi.com")>-1){if((r=f.match(/com\/(\S*?)\/0/i))&(o=f.match(/tvId=(\S*?)-/i))){n="http://open.iqiyi.com/developer/player_js/coopPlayerIndex.html?vid="+r[1]+"&tvId="+o[1]+"&accessToken=2.f22860a2479ad60d8da7697274de9346&appKey=3955c3425820435e86d0f4cdfe56f5e7&appId=1368&height=100%&width=100%";(l=document.createElement("iframe")).src=n,c.parentNode.replaceChild(l,c)}else{i=h();c.parentNode.replaceChild(i,c)}}else if(f.indexOf("letv.com")>-1){var a=c.getAttribute("flashvars"),r=a.match(/uu=(\S*?)&/i),o=a.match(/vu=(\S*?)&/i);if(r&&o){n="http://yuntv.letv.com/bcloud.html?uu="+r[1]+"&vu="+o[1]+"&auto_play=0&width=320&height=240&lang=zh_CN";(l=document.createElement("iframe")).src=n,c.parentNode.replaceChild(l,c)}}}var s=document.getElementsByTagName("iframe");for(t=s.length-1;t>=0;t--){var c;if(f=(c=s[t]).src){var l;if(f.indexOf("qq.com")>-1)if(r=f.match(/vid=(\S*?)&/i))f=n="https://v.qq.com/iframe/player.html?vid="+r[1]+"&tiny=0&auto=0";if(f.indexOf("player.youku.com")>-1)if(r=f.match(/embed\/((\S*?)\==)/i))f="http://player.youku.com/embed/"+r[1];if(-1==f.indexOf("http")&&f.indexOf("//")>=0){var d=f.indexOf("//");f="https:"+f.substr(d)}(l=document.createElement("iframe")).src=f,l.width=document.documentElement.clientWidth,l.height=document.documentElement.clientWidth/2,c.parentNode.replaceChild(l,c)}else{i=h();c.parentNode.replaceChild(i,c)}}var u=document.getElementsByTagName("video");for(t=u.length-1;t>=0;t--){var f,m=u[t];if(-1==(f=m.src).indexOf("http")&&f.indexOf("//")>=0){d=f.indexOf("//");f="https:"+f.substr(d)}m.src=f,m.setAttribute("webkit-playsinline",!0),m.setAttribute("playsinline",!0),m.width=document.documentElement.clientWidth,m.height=document.documentElement.clientWidth/2}function h(){var e=document.createElement("div");e.class="videoPlaceholder";var t=document.createElement("div");return t.class="videoForbidden",e.appendChild(t),e}}var E={name:"cnbeta-article",data:function(){return{info:null}},methods:{getArticleContent:function(){var e=this,t=[].concat(c()(location.href.split("/"))).pop();b({url:"article/"+t,success:function(t){"200"===t.status_code.toString()?(e.info=t.result,document.title=e.info.title,e.$nextTick(x)):e.$toast({text:"请求出错",duration:2e3})},error:function(){e.$toast({text:"网络错误！",duration:2e3})}})}},mounted:function(){this.getArticleContent()}},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.info?n("div",{staticClass:"cnbeta-article-container"},[n("h1",{domProps:{innerHTML:e._s(e.info.title)}}),e._v(" "),n("div",{staticClass:"news-info"},[n("span",{staticClass:"time"},[e._v(e._s(e.info.inputtime))]),e._v(" "),n("span",{staticClass:"source",domProps:{innerHTML:e._s(e.info.source)}})]),e._v(" "),n("summary",{domProps:{innerHTML:e._s(e.info.summary)}}),e._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.info.content)}}),e._v(" "),n("div",{staticClass:"orign"},[n("div",[n("a",{attrs:{href:e.info.url_show,target:"_blank"}},[e._v("查看原文")])])])]):e._e()},staticRenderFns:[]};var N=n("VU/8")(E,k,!1,function(e){n("RSvE")},null,null).exports;i.a.use(o.a);var A=new o.a({mode:"history",routes:[{path:"/",name:"MobileHome",component:L,meta:{keepAlive:!0}},{path:"/article/:sid",name:"Article",component:N}]}),T={name:"Refresh",data:function(){return{visible:!1,loading:!1}},methods:{onClick:function(){this.loading||(this.loading=!0,v.$emit("onRefresh"))}}},P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"refresh-btn",on:{click:this.onClick}},[t("div",{staticClass:"refresh-icon",class:{"loading-icon":this.loading}})])},staticRenderFns:[]};var O=n("VU/8")(T,P,!1,function(e){n("4tm3")},null,null).exports,q=i.a.extend(O),I=n("qJdI"),R=n.n(I);i.a.config.productionTip=!1,i.a.use(R.a),i.a.prototype.$showRefresh=function(e){var t=new q({el:document.createElement("div"),data:e||{}});return t.visible=!0,document.getElementById("app").appendChild(t.$el),t.$stopLoading=function(){t.loading=!1},t.$disappear=function(){t.loading=!1,t.visible=!1},t.$appear=function(){t.visible=!0},t.$remove=function(){t.$el&&t.$el.parentNode&&t.$el.parentNode.removeChild(t.$el),t.$destroy()},t},new i.a({el:"#app",router:A,components:{App:r},template:"<App/>"})},RSvE:function(e,t){},UGfX:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9389c0138aeb5c882432.js.map